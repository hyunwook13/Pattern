<!-- pattern_name: Proxy -->

## **1. 패턴 이름 (Pattern Name)**

**Proxy (프록시) 패턴**

한 줄 소개:  **진짜 객체에 대한 접근을 제어하기 위해 대리 객체(Proxy)를 제공하는 구조적 디자인 패턴**

## **2. 문제와 해결 시나리오 (Problem & Use Case)**

-   **문제**: 직접 객체에 접근할 경우 비용이 크거나, 보안/제어가 필요할 수 있음. 이때 직접 접근을 막고 중간에서 요청을 조율할 수단이 필요함.
    
-   **적용 상황 예시**:
    
    -   **가상 프록시 (Virtual Proxy)**: 무거운 리소스를 실제로 사용할 때만 생성 (예: 이미지 로딩 지연)
        
    -   **보호 프록시 (Protection Proxy)**: 접근 권한에 따라 실제 객체 접근 제어
        
    -   **원격 프록시 (Remote Proxy)**: 네트워크 상의 객체에 대한 로컬 대리 객체
        
    -   **캐싱 프록시 (Cache Proxy)**: 결과를 저장하고 동일 요청시 재사용
        

## **3. 구조 (Structure)**

![프록시 구조](https://github.com/hyunwook13/Pattern/blob/main/assets/proxy.jpeg)

## **4. 참여자 (Participants)**

단계    | 설명                                               | 참여자
--------|----------------------------------------------------|----------
1단계   | 실제 서비스 인터페이스 정의                        | Subject
2단계   | 실제 객체 구현                                     | RealSubject
3단계   | 프록시 객체가 Subject를 구현하고 내부에 RealSubject 포함 | Proxy
4단계   | 클라이언트는 Proxy를 통해 Subject에 접근            | Client


## **5. 예제 코드 (Sample Code)**

🔗  [예시 코드](https://github.com/hyunwook13/Pattern/tree/main/Example/Proxy)

## **6. 장점 (Pros)**

-   **접근 제어**: 보안, 권한, 비용 제어 등 다양한 정책 적용 가능
    
-   **지연 로딩 및 성능 최적화**: 필요한 시점에만 객체 생성
    
-   **기존 코드 수정 없이 확장 가능**: OCP 만족
    

## **7. 단점 (Cons)**

-   **구조 복잡도 증가**: 중간 계층 추가로 인한 설계 복잡성
    
-   **성능 저하 가능성**: 중복 호출, 불필요한 래핑이 있을 경우 오버헤드 발생
    

## **8. 결과 (Consequences)**

-   **객체 접근 흐름에 대한 제어 권한 확보**
    
-   **특정 조건에 따라 행동을 조정할 수 있음 (ex. 로그인 여부에 따라 차단)**
    
-   **테스트 더블로서 사용 가능 (ex. 테스트 시 가짜 객체 주입)**
    

## **9. 변형 및 대안 (Variations & Alternatives)**

-   **Smart Proxy**: 참조 횟수 추적, 객체 수명 관리
    
-   **Firewall Proxy**: 접근을 제한하는 보안 목적의 프록시
    
-   **Synchronized Proxy**: 동기화된 접근 제공
    
-   **Counting Proxy**: 호출 횟수 측정 등의 부가 기능 부여
    

## **10. 구현 시 주의사항 (Implementation Tips)**

-   **인터페이스 기반 설계 권장**: 실제 객체와 프록시를 교체 가능하게
    
-   **지연 초기화(lazy loading)** ㅈ나 접근 제어 조건은 명확하게 정의
    
-   **로깅, 캐싱, 보안 등의 부가기능은 프록시에만 넣고 RealSubject는 순수하게 유지**
    

## **11. 관련 패턴 (Related Patterns)**

-   **Decorator**: 런타임에 기능을 추가하지만, 프록시는 접근 자체를 제어
    
-   **Adapter**: 인터페이스 호환성을 맞추는 역할로, 목적이 다름
    
-   **Bridge**: 기능과 구현을 분리하지만, 프록시는 객체 보호나 지연 등을 위한 중간 계층
