
## **1. 패턴 이름 (Pattern Name)**

**Prototype Pattern**

한 줄 소개: 기존에 생성된 인스턴스를 복제(clone)하여 새로운 객체를 만드는 생성 패턴

---

## **2. 문제와 해결 시나리오 (Problem & Use Case)**

**문제:**

* 객체 생성 비용이 크거나 복잡할 때 매번 new/init 과정을 수행하면 성능 저하 및 코드 중복 발생
  n-   다양한 설정 조합으로 객체를 만들어야 하지만 생성자 파라미터가 너무 많아 복잡해짐

**적용 상황 예시:**

* 대용량 이미지나 큰 데이터 구조를 포함한 객체를 여러 개 만들어야 할 때
* 런타임에 객체의 상태를 그대로 복제해서 변형해야 할 때(UX 상태, 게임 엔티티 등)
* 다양한 설정을 가진 객체를 조합하고 재사용해야 할 때

예:

"게임 캐릭터 객체는 여러 속성(스킬, 장비, 스탯 등)을 초기화하는 데 복잡한 로직이 필요한데, 매번 새 객체를 만들면 리소스 낭비가 심해진다."

---

## **3. 구조 (Structure)**

## **1. 패턴 이름 (Pattern Name)**

**Prototype Pattern**

한 줄 소개: 기존에 생성된 인스턴스를 복제(clone)하여 새로운 객체를 만드는 생성 패턴


## **2. 문제와 해결 시나리오 (Problem & Use Case)**

**문제:**

* 객체 생성 비용이 크거나 복잡할 때 매번 new/init 과정을 수행하면 성능 저하 및 코드 중복 발생
  n-   다양한 설정 조합으로 객체를 만들어야 하지만 생성자 파라미터가 너무 많아 복잡해짐

**적용 상황 예시:**

* 대용량 이미지나 큰 데이터 구조를 포함한 객체를 여러 개 만들어야 할 때
* 런타임에 객체의 상태를 그대로 복제해서 변형해야 할 때(UX 상태, 게임 엔티티 등)
* 다양한 설정을 가진 객체를 조합하고 재사용해야 할 때

예:

"게임 캐릭터 객체는 여러 속성(스킬, 장비, 스탯 등)을 초기화하는 데 복잡한 로직이 필요한데, 매번 새 객체를 만들면 리소스 낭비가 심해진다."


## **3. 구조 (Structure)**

![구조](https://github.com/hyunwook13/Pattern/blob/main/assets/prototype.jpeg)


## **4. 구현 흐름 (참여자 중심 구성)**

| 단계  | 설명                             | 참여자                 |
| --- | ------------------------------ | ------------------- |
| 1단계 | 프로토타입을 정의하는 인터페이스 선언<br> 복제 메서드(`clone()`)를 구현하는 구체 클래스            | `Prototype`         |
| 2단계 | 구체 프로토타입 구현 | `Button` |
| 3단계 | 프로토타입 레지스트리 구축  | `PrototypeRegistry`            |
| 4단계 | 클라이언트는 추상 레지스트리에만 의존 | `Client` |



## **5. 예시 코드 (Kotlin/Swift 양식)**

![예시]("https://github.com/hyunwook13/Pattern/tree/main/Example/Prototype")


## **6. 장점 (Pros)**
* **빠른 객체 복제**로 생성 비용 절감
* 런타임에 **유연한 객체 생성** 가능(상태 포함 복제)
* **클래스 계층**에 의존하지 않고 추상화된 인터페이스 사용
* **테스트**나 **프로토타입 기반 개발** 시 유용



## **7. 단점 (Cons)**

* **깊은 복사(deep copy)** 구현 시 복잡도가 증가
* **순환 참조**가 있는 객체 그래프 복제 구현이 까다로움
* 모든 클래스에 clone 메서드 추가 필요로 **코드가 늘어남**



## **8. 결과 (Consequences)**

* 객체 생성 복잡도를 낮추고 성능 최적화 달성
* 생성자 파라미터 폭발 문제 완화
* 상태 기반 커스텀 객체 복제가 쉬워짐



## **9. 변형 및 대안 (Variations & Alternatives)**

* **객체 풀(Object Pool)**: 미리 생성한 인스턴스를 재사용
* **폰 모양 복사(Clone via Serialization)**: 직렬화/역직렬화를 통한 복제
* **메타프로그래밍**: 리플렉션을 활용한 일반화된 복제 구현

## **10. 적용 시 주의사항 (Implementation Tips)**

* 참조 타입 프로퍼티는 **deep copy**로 처리할지 **shallow copy**로 처리할지 명확히 설계
* **Immutable 객체**의 경우 단순 복제 대신 원본 공유 고려
* \*\*프로토타입 등록소(Prototype Registry)\*\*를 활용해 이름 기반 복제 관리 가능


## **11. 관련 패턴 (Related Patterns)**

* **Builder**: 단계별 복잡 객체 생성에 사용
* **Factory Method**: 하위 클래스에서 객체 생성 책임 위임
* **Singleton**: 전역에서 단일 인스턴스 보장 시 사용


## **12. 실제 사용 사례 (Known Uses)**

* **UI 컴포넌트 복제**: 동일한 UI 위젯 여러 개 복제
* **게임 엔진**: 캐릭터, 아이템, 탄환 인스턴스 복제
* **문서 편집기**: 서식이 동일한 문단 복제

